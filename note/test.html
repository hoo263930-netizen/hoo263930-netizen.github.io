<section class="note-section">
  <h2 class="note-heading">📝 最新のnote記事</h2>
  <div id="note-grid"></div>
  <div class="note-actions">
    <a class="btn-more" href="https://note.com/loyal_dill1011" target="_blank" rel="noopener">もっと読む</a>
  </div>
</section>

<style>
/* ====== 見た目（黄×青×白のやさしいUI） ====== */
.note-section{padding:36px 18px;background:#fafaf7}
.note-heading{margin:0 0 18px;font-size:1.35rem}
#note-grid{
  display:grid; gap:16px;
  grid-template-columns:repeat(3,minmax(0,1fr));
}
@media (max-width:1000px){ #note-grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (max-width:640px){  #note-grid{ grid-template-columns:1fr; } }

.note-card{
  background:#fff; border-radius:16px; padding:18px 20px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
  transition:transform .18s ease, box-shadow .18s ease;
}
.note-card:hover{ transform:translateY(-3px); box-shadow:0 14px 32px rgba(0,0,0,.12); }

.note-title{ margin:0 0 6px; font-size:1.05rem; font-weight:700;
  line-height:1.35; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.note-title a{ color:#222; text-decoration:none; }
.note-title a:hover{ text-decoration:underline; }

.note-meta{ margin:0 0 10px; font-size:.86rem; color:#6b7280; }
.note-desc{ margin:0; color:#374151; line-height:1.6;
  display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }

.btn-more{
  display:inline-block; margin-top:18px; padding:10px 18px; border-radius:999px;
  background:#f3b700; color:#111; text-decoration:none; box-shadow:0 6px 14px rgba(243,183,0,.35);
}
.btn-more:hover{ transform:translateY(-1px); box-shadow:0 10px 20px rgba(243,183,0,.45); }

/* 既定の紫リンク色を上書き */
a{color:inherit;}
</style>

<script>
(async () => {
  const el = document.getElementById("note-grid");
  el.innerHTML = '<div class="note-card">読み込み中…</div>';

  try {
    const res = await fetch("https://api.rss2json.com/v1/api.json?rss_url=https://note.com/loyal_dill1011/rss");
    const data = await res.json();

    const fmt = (s) => {
      const d = new Date(s);
      const y=d.getFullYear(), m=String(d.getMonth()+1).padStart(2,'0'), dd=String(d.getDate()).padStart(2,'0');
      return `${y}/${m}/${dd}`;
    };

    el.innerHTML = data.items.slice(0,3).map(item => {
      const text = (item.description || '').replace(/<[^>]*>/g,'').trim();
      const cat  = item.categories?.[0] ? ` ｜ ${item.categories[0]}` : '';
      return `
        <article class="note-card">
          <h3 class="note-title">
            <a href="${item.link}" target="_blank" rel="noopener">${item.title}</a>
          </h3>
          <p class="note-meta">${fmt(item.pubDate)}${cat}</p>
          <p class="note-desc">${text}</p>
        </article>`;
    }).join('');
  } catch (e) {
    console.error(e);
    el.innerHTML = '<p style="color:#c00;">noteの読み込みに失敗しました。</p>';
  }
})();
</script>
