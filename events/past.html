<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ã“ã‚Œã¾ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆ | éŠã¹ã‚‹ãŠå¯ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</title>
<link rel="icon" href="/favicon.ico">
<style>
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Noto Sans JP',sans-serif;background:#fbfbf7;color:#111}
.wrapper{max-width:1100px;margin:0 auto;padding:32px 16px}

/* è¦‹å‡ºã— */
.page-title{display:flex;align-items:center;gap:10px;font-size:1.6rem;margin:4px 0 18px}
.page-title::before{content:"ğŸ“š";}

/* ã‚°ãƒªãƒƒãƒ‰ã¨ã‚«ãƒ¼ãƒ‰ï¼ˆnoteã¨çµ±ä¸€ï¼‰ */
.grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}
.card{background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.08);transition:.2s}
.card:hover{transform:translateY(-4px);box-shadow:0 10px 24px rgba(0,0,0,.12)}
.thumb{background:#f2f2f0;display:flex;align-items:center;justify-content:center;height:180px}
.thumb img{width:100%;height:180px;object-fit:cover;display:block}
.thumb.noimg::before{content:"ğŸª·";font-size:40px;opacity:.4}
.body{padding:16px 20px}
.title{margin:0 0 6px;font-weight:700;font-size:1.05rem;line-height:1.35}
.meta{font-size:.86rem;color:#666;margin:0 0 8px}
.desc{margin:0 0 10px;color:#444;line-height:1.55;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.tags{display:flex;flex-wrap:wrap;gap:6px;margin:6px 0 0}
.tag{font-size:.78rem;background:#f0f0ea;border-radius:999px;padding:4px 8px;color:#333}
.actions{margin-top:10px}
.actions a,.actions a:visited{color:#111;text-decoration:underline}

/* å¹´ãƒ•ã‚£ãƒ«ã‚¿ */
.controls{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 18px}
select{padding:8px 10px;border-radius:10px;border:1px solid #ddd;background:#fff}
</style>
</head>
<body>
  <div class="wrapper">
    <h1 class="page-title">ã“ã‚Œã¾ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆ</h1>

    <div class="controls">
      <label>å¹´ã§çµã‚Šè¾¼ã¿ï¼š
        <select id="yearFilter">
          <option value="">ã™ã¹ã¦</option>
        </select>
      </label>
    </div>

    <div id="grid" class="grid" aria-live="polite"></div>
  </div>

<script>
/** â–¼ ã“ã“ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½è¨˜ã—ã¦ã„ãã ã‘ â–¼
 *  title: ã‚¿ã‚¤ãƒˆãƒ«
 *  date : YYYY-MM-DD
 *  location: ä»»æ„
 *  cover: ç”»åƒURLï¼ˆç©ºã§ã‚‚OKï¼ç©ºã ã¨ğŸª·ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰
 *  link : ãƒ¬ãƒãƒ¼ãƒˆï¼ˆnoteç­‰ï¼‰ã¸ã®URL
 *  desc : ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆ
 *  tags : ["ã‚¿ã‚°","ã‚¿ã‚°"]
 */
const EVENTS = [
  {
    title: "å¤–å›½ç±ã®å¹¼å…ã•ã‚“é”ã«åº§ç¦…æŒ‡å°ã—ãŸè¨˜éŒ²",
    date:  "2025-10-24",
    location: "æŸ å¤šæ–‡åŒ–å…±ç”Ÿå›£ä½“ï¼ˆæ¸©æµ´æ–½è¨­ä½µè¨­ï¼‰",
    cover: "", // ç”»åƒãªã—â†’ğŸª·ã§è¡¨ç¤º
    link:  "https://note.com/loyal_dill1011", // è©²å½“è¨˜äº‹URLã«å·®ã—æ›¿ãˆ
    desc:  "æœªå°±å­¦å…ãŒå¤šã‚ã€‚ã‚„ã•ã—ã„è¨€è‘‰ã§â€œå¿ƒã‚’ã‚ˆãè¦‹ã‚‹â€åº§ç¦…ã‚’å®Ÿè·µã€‚è¦ªå¾¡ã•ã‚“ã‹ã‚‰ã‚‚å¥½è©•ã€‚",
    tags:  ["åº§ç¦…æŒ‡å°","å¤šæ–‡åŒ–å…±ç”Ÿ","å‡ºå¼µä¼š"]
  },
  {
    title: "åœ°å…ƒãƒ•ã‚§ã‚¹ã‚¿åˆå‚åŠ ï¼â€” ã‚¹ãƒ¼ãƒ‘ãƒ¼å¤§ç¹ç››å°„çš„ã¨éº»é›€ã®èª²é¡Œ",
    date:  "2025-10-19",
    location: "åœ°å…ƒãƒ•ã‚§ã‚¹ã‚¿ä¼šå ´",
    cover:  "https://images.unsplash.com/photo-1598136490945-21d90c3fdf9f?q=80&w=1400&auto=format&fit=crop", // ä»®ã€‚æ‰‹å…ƒå†™çœŸã«å·®ã—æ›¿ãˆOK
    link:   "https://note.com/loyal_dill1011",
    desc:   "å°„çš„ãŒå¤§äººæ°—ï¼ä¸€æ–¹ã§â€œéº»é›€â€ã®è¨€è‘‰ã®ã‚¤ãƒ¡ãƒ¼ã‚¸èª²é¡Œã‚‚å†èªè­˜ã€‚æ¬¡å›ã¯è¡¨ç¾ã¨å°ç·šã‚’å·¥å¤«ã¸ã€‚",
    tags:   ["ãƒ•ã‚§ã‚¹ã‚¿","å°„çš„","éº»é›€"]
  },
  {
    title: "çªç™ºãƒ–ãƒ¼ã‚¹ã‹ã‚‰å§‹ã¾ã£ãŸãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ä¼š ã€œç„šãç«ã¯ãªãã¦ã‚‚ç«ã¯ç¯ã£ãŸæ—¥ã€œ",
    date:  "2025-10-12",
    location: "å±‹å¤–ã‚¤ãƒ™ãƒ³ãƒˆåºƒå ´",
    cover:  "https://images.unsplash.com/photo-1605514440967-8d3b6e9c9b7e?q=80&w=1400&auto=format&fit=crop", // ä»®
    link:   "https://note.com/loyal_dill1011",
    desc:   "å°ã•ãªãã£ã‹ã‘ã‹ã‚‰äº¤æµãŒåºƒãŒã£ãŸä¸€æ—¥ã€‚æ¬¡ã¯â€œå¥åº·ãƒãƒ¼ã‚¸ãƒ£ãƒ³ã®ã‚¯ã‚¤ã‚ºç‰ˆâ€ã§å‚åŠ ã—ã‚„ã™ãã€‚",
    tags:   ["ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ","äº¤æµ"]
  }
];

// ====== ä»¥ä¸‹ã¯è§¦ã‚‰ãšOK ======
const $grid = document.getElementById("grid");
const $year = document.getElementById("yearFilter");

function ymd(s){ const d=new Date(s); return isNaN(d)?["","",""]:[d.getFullYear(),String(d.getMonth()+1).padStart(2,"0"),String(d.getDate()).padStart(2,"0")]; }
function fmtDate(s){ const [y,m,d]=ymd(s); return y?`${y}/${m}/${d}`:""; }
function esc(s){ return (s||"").replace(/[&<>"']/g,m=>({ "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;" }[m])); }

function render(list){
  if(!list.length){ $grid.innerHTML = "<p style='color:#666'>è©²å½“ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>"; return; }
  $grid.innerHTML = list.map(ev=>{
    const dateStr = fmtDate(ev.date);
    const tags = (ev.tags||[]).map(t=>`<span class="tag">${esc(t)}</span>`).join("");
    const imgPart = ev.cover
      ? `<div class="thumb"><img src="${esc(ev.cover)}" loading="lazy" decoding="async"
            referrerpolicy="no-referrer"
            onerror="this.parentNode.classList.add('noimg'); this.remove();" alt=""></div>`
      : `<div class="thumb noimg"></div>`;
    return `
      <article class="card">
        ${imgPart}
        <div class="body">
          <h3 class="title">${esc(ev.title)}</h3>
          <p class="meta">${dateStr}${ev.location ? " ï½œ " + esc(ev.location) : ""}</p>
          <p class="desc">${esc(ev.desc)}</p>
          <div class="tags">${tags}</div>
          <div class="actions">${ev.link ? `<a href="${esc(ev.link)}" target="_blank" rel="noopener">ãƒ¬ãƒãƒ¼ãƒˆã‚’èª­ã‚€</a>` : ""}</div>
        </div>
      </article>`;
  }).join("");
}

function initFilter(){
  // å¹´ã®å€™è£œã‚’ä½œæˆï¼ˆé™é †ï¼‰
  const years = Array.from(new Set(EVENTS.map(e=>ymd(e.date)[0]).filter(Boolean))).sort((a,b)=>b-a);
  years.forEach(y=>{
    const opt = document.createElement("option");
    opt.value = String(y); opt.textContent = y;
    $year.appendChild(opt);
  });
  $year.addEventListener("change", ()=>{
    const y = $year.value;
    const list = EVENTS
      .filter(e=>!y || String(ymd(e.date)[0])===y)
      .sort((a,b)=> new Date(b.date)-new Date(a.date));
    render(list);
  });
}

(function start(){
  initFilter();
  const sorted = EVENTS.slice().sort((a,b)=> new Date(b.date)-new Date(a.date));
  render(sorted);
})();
</script>
</body>
</html>
