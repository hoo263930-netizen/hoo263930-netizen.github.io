<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>遊べるお寺プロジェクト</title>
  <meta name="description" content="楽しく学び、遊んでつながる。遊べるお寺プロジェクトの公式サイト。イベント情報・活動報告・お問い合わせはこちら。" />
  <style>
    :root{
      --sky:#22a7ff;   /* アクセント青（ナビ下線） */
      --sand:#f7ce52;  /* 両脇の黄 */
      --ink:#2b2b2b;
      --paper:#fff;
      --maxw:1100px;
      --rail:16px;
    }
    @media(min-width:900px){ :root{ --rail:24px; } }

    /* ベース */
    html,body{ margin:0; padding:0; color:var(--ink); line-height:1.75; font-family:"Yu Gothic","Hiragino Kaku Gothic ProN",Meiryo,sans-serif; }
    body{ background:var(--sand); }
    .container{ max-width:var(--maxw); margin:0 auto; background:var(--paper); min-height:100vh; box-shadow:0 0 6px rgba(0,0,0,.05); }

    /* 視覚的にはサイト名を出さない（スクリーンリーダー用のみ） */
    header{ background:#fff; border-bottom:2px solid var(--sand); padding:0 var(--rail); }
    .visually-hidden{ position:absolute; left:-9999px; }

    /* ナビ（大きめ＋区切り線＋下に青ライン） */
    nav{ background:#fff; position:relative; border-bottom:2px solid var(--sand); }
    nav::after{ content:""; position:absolute; left:0; right:0; bottom:-2px; height:3px; background:var(--sky); }
    nav .wrap{
      max-width:var(--maxw); margin:0 auto; padding:0 var(--rail);
      display:flex; gap:0; justify-content:center; overflow:auto;
    }
    nav a{
      color:#333; text-decoration:none;
      padding:18px clamp(14px,2.6vw,28px);
      font-weight:700; font-size:clamp(18px,2.2vw,22px);
      white-space:nowrap; border-bottom:3px solid transparent;
    }
    nav a + a{ border-left:2px solid #ddd; }
    nav a:hover{ color:#111; background:#fafafa; }

/* ヒーロー */
.hero{
  margin:0;
  background:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:clamp(380px, 62vw, 760px);
  border-bottom:1px solid #eee;
}

.hero img{
  height:100%;        /* ← 高さをヒーローに合わせる */
  width:auto;         /* ← 横は自動（比率維持） */
  max-width:100%;
  object-fit:contain; /* ← 全体表示（左右切れ防止） */
  display:block;
  background:#fff;
  opacity:0;
  transition:opacity .6s ease;
}
.hero img.is-loaded{ opacity:1; }

/* スマホは縦長になりやすいので、幅基準に切替 */
@media (max-width:600px){
  .hero{ height:clamp(260px, 60vw, 420px); }
  .hero img{
    width:100%;
    height:auto;
  }
}



    /* 本文 */
    main{ padding:28px var(--rail) 56px; }
    h2{ margin:.2em 0 .5em; font-size:clamp(20px,2.8vw,26px); }
    .lead{ margin:0 0 1rem; opacity:.9; }

    /* コラボ募集 */
    .collab{ margin:28px 0 8px; }
    .collab-inner{
      background:#2f7d3a; color:#fff; border-radius:20px;
      padding:clamp(20px,3vw,36px); display:grid; gap:clamp(16px,2.5vw,28px); align-items:center;
      box-shadow:0 8px 20px rgba(0,0,0,.12);
    }
    .collab-media img{ width:100%; max-width:360px; display:block; margin:0 auto; border-radius:12px; }
    .collab-copy h2{ margin:0 0 .6em; font-size:clamp(22px,3.6vw,34px); }
    .collab-copy p{ margin:0 0 1.1em; font-size:clamp(15px,2.4vw,17px); opacity:.95; }
    .collab-btn{ display:inline-block; background:#7ee081; color:#0b3d0f; text-decoration:none; font-weight:700; padding:.9rem 1.6rem; border-radius:999px;
      box-shadow:0 6px 0 rgba(0,0,0,.12), 0 12px 22px rgba(0,0,0,.18); transition:transform .04s ease, filter .15s ease; }
    .collab-btn:hover{ filter:brightness(.96); }
    .collab-btn:active{ transform:translateY(1px); }
    @media(min-width:880px){ .collab-inner{ grid-template-columns:380px 1fr; padding:clamp(28px,4vw,44px);} }

    /* フッター */
    footer{ background:#f7f7f7; border-top:1px solid #eee; padding:14px var(--rail); text-align:center; font-size:.9rem; color:#666; }
  </style>
</head>
<body>
  <div class="container">
    <header><span class="visually-hidden">遊べるお寺プロジェクト</span></header>

    <!-- ナビ -->
    <nav aria-label="主なナビゲーション">
      <div class="wrap">
        <a href="/">ホーム</a>
        <a href="/project/">プロジェクト</a>
        <a href="/events/">イベント</a>
        <a href="https://note.com/loyal_dill1011" target="_blank" rel="noopener">活動報告（note）</a>
        <a href="/contact/">お問い合わせ</a>
      </div>
    </nav>

    <!-- ヒーロー（ランダム月別表示） -->
    <figure class="hero">
      <img id="hero-image" alt="季節のメインビジュアル">
    </figure>

    <main>
      <section>
        <h2>遊べるお寺プロジェクトとは</h2>
        <p class="lead">
          「楽しい」、「面白い」、「ワクワクする」、そんな気持ちを土台として、遊びや対話を通じてつながっていく——そんな自由で開かれた雰囲気を大切にしています。<br><br>
          現代社会では、地域や世代を超えたつながりが希薄になり、自分の属する団体や興味関心のある小さなコミュニティの中だけで暮らすことが当たり前になりつつあります。<br><br>
          そのような時代において、価値観の異なる他者と自然に出会い、交わることができる「場」が作れたらと思い活動しています。
        </p>
      </section>

      <!-- コラボ募集 -->
      <section class="collab">
        <div class="collab-inner">
          <div class="collab-media">
            <img src="/images/collab-badge.png" alt="コラボ募集イメージ">
          </div>
          <div class="collab-copy">
            <h2>コラボ・講師依頼のご案内</h2>
            <p>
              遊べるお寺プロジェクトでは、地域・学校・福祉施設・企業などでのコラボ企画や講師依頼を承っております。<br><br>
              健康麻雀や座禅体験、サバイバルゲーム、ボードゲームなど、多彩なプログラムを通じて、人と人が自然につながる場をつくります。<br><br>
              出張企画やご相談は、お問い合わせフォームよりご連絡ください。
            </p>
            <a class="collab-btn" href="/contact/">お問い合わせはこちら</a>
          </div>
        </div>
      </section>
    </main>

    <footer>© 2025 遊べるお寺プロジェクト</footer>
  </div>

  <!-- 月別フォルダからランダム表示（10月= /images/top/10/） -->
  <script>
    (function(){
      // 今月の数字（例: 10月 -> "10"）
      const month = String(new Date().getMonth() + 1).padStart(2, '0');

      // フォルダ（10月は '/images/top/10/'）※年分けしたい場合は `images/top/2025/${month}/` に変更
      const folder = `/images/top/${month}/`;

      // 用意した4枚（拡張子は webp/png/jpg どれでもOK）
      const baseNames = ['banner1','banner2','banner3','banner4'];
      const exts = ['webp','png','jpg']; // 優先順で解決

      const heroImg = document.getElementById('hero-image');

      // 候補URLを順にプリフライトして、存在するものだけに絞る
      Promise.all(baseNames.map(resolveExisting))
        .then(list => list.filter(Boolean))
        .then(valid => {
          if (valid.length === 0) throw new Error('候補画像が見つかりません');
          const pick = valid[Math.floor(Math.random() * valid.length)];
          const pre = new Image();
          pre.onload = () => {
            heroImg.src = pick;
            heroImg.classList.add('is-loaded'); // フェードイン
          };
          pre.onerror = () => fallback();
          pre.src = pick;
        })
        .catch(fallback);

      function resolveExisting(base){
        return new Promise(resolve => {
          let i = 0;
          const tryNext = () => {
            if (i >= exts.length) return resolve(null);
            const url = `${folder}${base}.${exts[i++]}`;
            const img = new Image();
            img.onload = () => resolve(url);
            img.onerror = tryNext;
            img.src = url + '?v=1'; // キャッシュ抑制軽く
          };
          tryNext();
        });
      }

      function fallback(){
        // 任意のデフォルト（無ければ何もしない）
        // heroImg.src = '/images/cover.png';
        heroImg.classList.add('is-loaded');
        console.warn('月別ランダム画像の表示に失敗しました。パスとファイル名をご確認ください。');
      }
    })();
  </script>
</body>
</html>
